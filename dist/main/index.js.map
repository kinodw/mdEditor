{"version":3,"sources":["webpack:///webpack/bootstrap f15b5e7c9f5a0f594640","webpack:///./src/main/createFileManager.js","webpack:///./src/main/createMainWindow.js","webpack:///./src/main/createPDFWindow.js","webpack:///./src/main/setAppMenu.js","webpack:///external \"electron\"","webpack:///./src/main/showExportPDFDialog.js","webpack:///./src/main/showOpenFileDialog.js","webpack:///./src/main/showSaveAsNewFileDialog.js","webpack:///external \"events\"","webpack:///external \"fs\"","webpack:///./src/main/index.js"],"names":["FileManager","filePath","text","Promise","resolve","writeFileSync","readFileSync","saveFile","pdf","createFileManager","MainWindow","window","width","height","loadURL","__dirname","on","webContents","e","url","preventDefault","openExternal","send","once","_e","createMainWindow","PDFWindow","show","returnValue","emit","reject","printToPDF","error","data","close","createPDFWindow","contents","fileManager","setAppMenu","options","template","label","submenu","accelerator","click","openFile","saveAsNewFile","exportPDF","role","getFocusedWindow","toggleDevTools","process","platform","unshift","quit","setApplicationMenu","buildFromTemplate","showExportPDFDialog","file","showSaveDialog","title","filters","name","extensions","showOpenFileDialog","files","showOpenDialog","properties","length","showSaveAsNewFileDialog","mainWindow","hasVisibleWindows","then","readFile","sendText","catch","console","log","requestText","overwriteFile","all","pdfWindow","generatePDF","writePdf"],"mappings":"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","file":"dist/main/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 219);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f15b5e7c9f5a0f594640","import fs from \"fs\";\n\nclass FileManager {\n\n\tconstructor() {\n\t\tthis.filePath = \"\";\n\t}\n\t// ファイルを開いたとき、閉じたときのパスを保持しておき、上書き保存に利用\n\tsaveFile(filePath, text) {\n\t\treturn new Promise((resolve) => {\n\t\t\tfs.writeFileSync(filePath, text);\n\t\t\tthis.filePath = filePath;\n\t\t\tresolve();\n\t\t});\n\t}\n\n\treadFile(filePath) {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst text = fs.readFileSync(filePath, \"utf8\");\n\t\t\tthis.filePath = filePath;\n\t\t\tresolve(text);\n\t\t});\n\t}\n\n\toverwriteFile(text) {\n\t\treturn this.saveFile(this.filePath, text);\n\t}\n\n\twritePdf(filePath, pdf) {\n\t\treturn new Promise((resolve) => {\n\t\t\tfs.writeFileSync(filePath, pdf);\n\t\t\tresolve();\n\t\t});\n\t}\n}\n\nfunction createFileManager() {\n\treturn new FileManager();\n}\n\nexport default createFileManager;\n\n\n// WEBPACK FOOTER //\n// ./src/main/createFileManager.js","import { BrowserWindow, ipcMain, shell } from \"electron\";\n\nclass MainWindow {\n\tconstructor() {\n\t\tthis.window = new BrowserWindow({width:800, height:600});\n\t\tthis.window.loadURL(`file://${__dirname}/../../index.html`);\n\t\tthis.window.on(\"closed\", () => {\n\t\t\tthis.window = null;\n\t\t});\n\t\tthis.window.webContents.on(\"will-navigate\", (e, url) => {\n\t\t\te.preventDefault();\n\t\t\tshell.openExternal(url);\n\t\t});\n\t}\n\n\trequestText() {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.window.webContents.send(\"REQUEST_TEXT\");\n\t\t\tipcMain.once(\"REPLY_TEXT\", (_e,text) => resolve(text));\n\t\t});\n\t}\n\n\tsendText(text) {\n\t\tthis.window.webContents.send(\"SEND_TEXT\", text);\n\t}\n}\n\nfunction createMainWindow() {\n\treturn new MainWindow();\n}\n\nexport default createMainWindow;\n\n\n// WEBPACK FOOTER //\n// ./src/main/createMainWindow.js","import { BrowserWindow } from \"electron\";\nimport { ipcMain } from \"electron\";\nimport EventEmitter from \"events\";\n\nclass PDFWindow extends EventEmitter{\n\tconstructor(text) {\n\t\tsuper(text);\n\t\t// PDF印刷用画面はユーザーに触れる必要がないため show: false\n\t\tthis.window =  new BrowserWindow({show: true});\n\t\tthis.window.loadURL(`file://${__dirname}/../../pdf.html`);\n\t\tipcMain.once(\"REQUEST_TEXT\", (e) => {\n\t\t\te.returnValue = text;\n\t\t});\n\t\tipcMain.once(\"RENDERED_CONTENTS\", () => {\n\t\t\tthis.emit(\"RENDERED_CONTENTS\");\n\t\t});\n\t}\n\n\tgeneratePDF() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.window.webContents.printToPDF({}, (error, data) => {\n\t\t\t\tif(error) {\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tclose() {\n\t\tthis.window.close();\n\t\tthis.window.on(\"closed\", () => {\n\t\t\tthis.window = null;\n\t\t});\n\t}\n}\n\nfunction createPDFWindow(contents, fileManager) {\n\treturn new PDFWindow(contents, fileManager);\n}\n\nexport default createPDFWindow;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/createPDFWindow.js","import { app, Menu, BrowserWindow } from \"electron\";\n\nfunction setAppMenu(options) {\n\tconst template = [\n\t\t{\n\t\t\tlabel: \"File\",\n\t\t\tsubmenu: [\n\t\t\t\t{ label: \"Open\", accelerator: \"CmdOrCtrl+O\", click: () => options.openFile() },\n\t\t\t\t{ label: \"Save\", accelerator: \"CmdOrCtrl+S\", click: () => options.saveFile() },\n\t\t\t\t{ label: \"Save As...\", click: () => options.saveAsNewFile() },\n\t\t\t\t{ label: \"Export PDF\", click: () => options.exportPDF() }\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Edit\",\n\t\t\tsubmenu: [\n\t\t\t\t{ label: \"Copy\", accelerator: \"CmdOrCtrl+C\", role: \"copy\" },\n\t\t\t\t{ label: \"Paste\", accelerator: \"CmdOrCtrl+V\", role: \"paste\" },\n\t\t\t\t{ label: \"Cut\", accelerator: \"CmdOrCtrl+X\", role: \"cut\" },\n\t\t\t\t{ label: \"Select All\", accelerator: \"CmdOrCtrl+A\", role: \"selectall\" }\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"View\",\n\t\t\tsubmenu: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Toggle DevTools\",\n\t\t\t\t\taccelerator: \"Alt+Command+I\",\n\t\t\t\t\tclick: () => BrowserWindow.getFocusedWindow().toggleDevTools()\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t];\n\tif(process.platform === \"darwin\") {\n\t\ttemplate.unshift(\n\t\t\t{\n\t\t\t\tlabel: \"MarkdownEditor\",\n\t\t\t\tsubmenu: [\n\t\t\t\t\t{ label: \"Quit\", accelerator: \"CmdOrCtrl+Q\", click: () => app.quit() }\n\t\t\t\t]\n\t\t\t}\n\t\t);\n\t}\n\tMenu.setApplicationMenu(Menu.buildFromTemplate(template));\n}\nexport default setAppMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/main/setAppMenu.js","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 19\n// module chunks = 0 1 2","import { dialog } from \"electron\";\n\n\nfunction showExportPDFDialog() {\n\treturn new Promise((resolve, reject) => {\n\t\tconst file = dialog.showSaveDialog(\n\t\t{\n\t\t\ttitle: \"export as PDF\",\n\t\t\tfilters: [\n\t\t\t{ name: \"pdf file\", extensions: [ \"pdf\" ]}\n\t\t\t]\n\t\t}\n\t\t);\n\t\tif(file) {\n\t\t\tresolve(file);\n\t\t} else {\n\t\t\treject();\n\t\t}\n\t});\n}\n\nexport default showExportPDFDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showExportPDFDialog.js","import { dialog } from \"electron\";\n\nfunction showOpenFileDialog() {\n\treturn new Promise((resolve, reject) => {\n\t\tconst files = dialog.showOpenDialog(\n\t\t{\n\t\t\ttitle: \"open\",\n\t\t\tproperties: [\"openFile\"],\n\t\t\tfilters: [\n\t\t\t{ name: \"markdown file\", extensions: [ \"md\" ]}\n\t\t\t]\n\t\t}\n\t\t);\n\n\t\tif(files && files.length > 0) {\n\t\t\tresolve(files[0]);\n\t\t} else {\n\t\t\treject();\n\t\t}\n\t});\n}\n\nexport default showOpenFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/showOpenFileDialog.js","import { dialog } from \"electron\";\n\nfunction showSaveAsNewFileDialog() {\n\treturn new Promise((resolve, reject) => {\n\t\tconst file = dialog.showSaveDialog(\n\t\t{\n\t\t\ttitle:\"save\",\n\t\t\tfilters: [ { name:\"markdown file\",extensions: [ \"md\" ] } ]\n\t\t}\n\t  );\n\t\tif(file) {\n\t\t\tresolve(file);\n\t\t} else {\n\t\t\treject();\n\t\t}\n\t});\n}\n\nexport default showSaveAsNewFileDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showSaveAsNewFileDialog.js","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 217\n// module chunks = 2","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 218\n// module chunks = 2","import { app } from \"electron\";\nimport createMainWindow from \"./createMainWindow\";\nimport setAppMenu from \"./setAppMenu\";\nimport showSaveAsNewFileDialog from \"./showSaveAsNewFileDialog\";\nimport createFileManager from \"./createFileManager\";\nimport showOpenFileDialog from \"./showOpenFileDialog\";\nimport createPDFWindow from \"./createPDFWindow\";\nimport showExportPDFDialog from \"./showExportPDFDialog\";\n\nlet mainWindow = null;\nlet fileManager = null;\n\n\n\napp.on(\"ready\", () => {\n\tmainWindow = createMainWindow();\n\tfileManager = createFileManager();\n\tsetAppMenu({ openFile, saveFile, saveAsNewFile, exportPDF });\n});\n\napp.on(\"window-all-closed\", () => {\n\tif (process.platform !== \"darwin\") {\n\t\tapp.quit();\n\t}\n});\n\napp.on(\"activate\", (_e, hasVisibleWindows) => {\n\tif(!hasVisibleWindows) {\n\t\tmainWindow = createMainWindow();\n\t}\n});\n\nfunction openFile() {\n\tshowOpenFileDialog()\n\t .then((filePath) => fileManager.readFile(filePath))\n\t .then((text) => mainWindow.sendText(text))\n\t .catch((error) => {\n\t \tconsole.log(error);\n\t });\n\tconsole.log(\"openFile\");\n}\n\nfunction saveFile() {\n\tif (!fileManager.filePath) {\n\t\tsaveAsNewFile();\n\t\treturn;\n\t}\n\tmainWindow.requestText()\n\t .then((text) => fileManager.overwriteFile(text))\n\t .catch((error) => {\n\t \tconsole.log(error);\n\t });\n\tconsole.log(\"saveFile\");\n}\n\nfunction saveAsNewFile() {\n\tPromise.all([ showSaveAsNewFileDialog(), mainWindow.requestText() ])\n\t .then(([filePath, text]) => fileManager.saveFile(filePath,text))\n\t .catch((error) => {\n\t \tconsole.log(error);\n\t });\n\tconsole.log(\"saveAsNewFile\");\n}\n\n\nfunction exportPDF() {\n\tPromise.all([ showExportPDFDialog(), mainWindow.requestText() ])\n\t .then(([filePath, text]) => {\n\t \tconsole.log(\"first then\");\n\t \tconst pdfWindow = createPDFWindow(text);\n\t \tpdfWindow.on(\"RENDERED_CONTENTS\", () => {\n\t \t\tconsole.log(\"receive RENDERED_CONTENTS\");\n\t \t\tpdfWindow.generatePDF()\n\t \t\t .then((pdf) => fileManager.writePdf(filePath, pdf))\n\t \t\t .then(() => pdfWindow.close())\n\t \t\t .catch((error) => {\n\t \t\t \tconsole.log(error);\n\t \t\t \tpdfWindow.close();\n\t \t\t });\n\t \t});\n\t })\n\t .catch((error) => {\n\t \tconsole.log(error);\n\t });\n\tconsole.log(\"exportPDF\");\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js"],"sourceRoot":""}